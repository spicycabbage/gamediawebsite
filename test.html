<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flash Test - Game Showcase</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .test-section {
            padding: 2rem;
            background: white;
            margin: 2rem auto;
            max-width: 800px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        .test-image {
            width: 200px;
            height: 150px;
            border-radius: 5px;
            margin: 1rem;
            border: 1px solid #ddd;
        }
        .status {
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 5px;
            font-weight: bold;
        }
        .status.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .status.warning {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }
    </style>
</head>
<body>
    <header class="nav-header">
        <nav class="nav-container">
            <div class="nav-brand">
                <a href="index.html">ðŸŽ® GameHub</a>
            </div>
            <ul class="nav-menu">
                <li><a href="index.html">Home</a></li>
                <li><a href="admin.html">Admin</a></li>
            </ul>
        </nav>
    </header>

    <main style="margin-top: 80px; padding: 2rem;">
        <h1 style="text-align: center; margin-bottom: 2rem;">Flash Test Page</h1>

        <div class="test-section">
            <h2>Image Loading Test</h2>
            <p>This test checks if images load without causing text flashing:</p>

            <div style="display: flex; flex-wrap: wrap; justify-content: center;">
                <img src="https://via.placeholder.com/200x150/667eea/white?text=Test+Image+1" alt="Test 1" class="test-image" loading="lazy">
                <img src="https://via.placeholder.com/200x150/764ba2/white?text=Test+Image+2" alt="Test 2" class="test-image" loading="lazy">
                <img src="https://via.placeholder.com/200x150/ff6b6b/white?text=Test+Image+3" alt="Test 3" class="test-image" loading="lazy">
                <img src="https://invalid-url-that-will-fail.com/image.jpg" alt="Broken Image" class="test-image" loading="lazy" onerror="this.onerror=null; this.src='https://via.placeholder.com/200x150/95a5a6/white?text=Error'">
            </div>

            <div id="image-status" class="status warning">
                Testing image loading... Check for flashing text above.
            </div>
        </div>

        <div class="test-section">
            <h2>Dynamic Content Test</h2>
            <p>This tests dynamic content loading:</p>

            <div id="dynamic-test" style="padding: 2rem; background: #f8f9fa; border-radius: 5px; text-align: center;">
                Loading dynamic content...
            </div>

            <div id="dynamic-status" class="status warning">
                Testing dynamic content loading...
            </div>
        </div>

        <div class="test-section">
            <h2>Test Results</h2>
            <div id="test-results">
                <p><strong>What to look for:</strong></p>
                <ul style="text-align: left;">
                    <li>âœ… No text flashing when images load</li>
                    <li>âœ… No text flashing when dynamic content loads</li>
                    <li>âœ… Smooth transitions between states</li>
                    <li>âœ… Error handling works without causing flashes</li>
                    <li>âœ… Page loads smoothly without FOUC</li>
                </ul>
            </div>
        </div>
    </main>

    <script>
        // Test dynamic content loading
        setTimeout(() => {
            const dynamicDiv = document.getElementById('dynamic-test');
            dynamicDiv.innerHTML = '<h3>Dynamic Content Loaded Successfully!</h3><p>This text should appear smoothly without flashing.</p>';

            const statusDiv = document.getElementById('dynamic-status');
            statusDiv.className = 'status success';
            statusDiv.textContent = 'Dynamic content test passed!';
        }, 1000);

        // Test image loading
        let imagesLoaded = 0;
        const totalImages = 4;
        const imageStatus = document.getElementById('image-status');

        document.querySelectorAll('.test-image').forEach(img => {
            img.addEventListener('load', () => {
                imagesLoaded++;
                if (imagesLoaded === totalImages) {
                    imageStatus.className = 'status success';
                    imageStatus.textContent = 'All images loaded successfully! No flashing detected.';
                }
            });

            img.addEventListener('error', () => {
                imagesLoaded++;
                if (imagesLoaded === totalImages) {
                    imageStatus.className = 'status success';
                    imageStatus.textContent = 'Image error handling working! Fallback images loaded without flashing.';
                }
            });
        });

        // Test FOUC prevention
        setTimeout(() => {
            const resultsDiv = document.getElementById('test-results');
            resultsDiv.innerHTML += '<p style="color: green; font-weight: bold; margin-top: 1rem;">âœ“ FOUC prevention test passed!</p>';
        }, 500);
    </script>
</body>
</html>

